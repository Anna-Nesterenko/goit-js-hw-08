{"mappings":"iiBAAA,IAQIA,EARJC,EAAAC,EAAA,SAEMC,EAAO,CACXC,KAAMC,SAASC,cAAc,mBAGzBC,EAAmB,sBAIzBJ,EAAKC,KAAKI,iBAAiB,UAG3B,SAAsBC,GACpBA,EAAEC,iBAEF,IAA2BC,EAAAF,EAAEG,cAAcC,SAAnCC,EAAmBH,EAAnBG,MAAOC,EAAYJ,EAAZI,QAEf,GAAoB,KAAhBD,EAAME,OAAkC,KAAlBD,EAAQC,MAChC,OAAOC,MAAM,iCAGfC,aAAaC,WAAWZ,GACxBa,QAAQC,IAAIrB,GACZS,EAAEG,cAAcU,QAIlB,SAAuBC,GACrB,IAAK,IAAMC,KAAOD,SACTA,EAAIC,GALbC,CAAczB,MAdhBG,EAAKC,KAAKI,iBAAiB,QAASkB,EAAAzB,EAAA,EAuBpC,SAAsBQ,GACpBT,EAASS,EAAEkB,OAAOC,MAAQnB,EAAEkB,OAAOX,MACnCE,aAAaW,QAAQtB,EAAkBuB,KAAKC,UAAU/B,MAzBG,MA2C3DgC,OAAOxB,iBAAiB,QAfxB,YACER,EAAW8B,KAAKG,MAAMf,aAAagB,QAAQ3B,KAQ7C,SAAuBgB,GACrB,IAAK,IAAMC,KAAOD,EAChBpB,EAAKC,KAAKoB,GAAKR,MAAQO,EAAIC,GAR3BW,CAAcnC,GAEdA,EAAW","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n};\n\nconst FORM_STORAGE_KEY = 'feedback-form-state';\n\nlet formData;\n\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.form.addEventListener('input', throttle(addFormInput, 500));\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n\n  const { email, message } = e.currentTarget.elements;\n\n  if (email.value === '' || message.value === '') {\n    return alert('Будь ласка заповнити усі поля');\n  }\n\n  localStorage.removeItem(FORM_STORAGE_KEY);\n  console.log(formData);\n  e.currentTarget.reset();\n  clearFormData(formData);\n}\n\nfunction clearFormData(obj) {\n  for (const key in obj) {\n    delete obj[key];\n  }\n}\n\nfunction addFormInput(e) {\n  formData[e.target.name] = e.target.value;\n  localStorage.setItem(FORM_STORAGE_KEY, JSON.stringify(formData));\n}\n\nfunction getStorageData() {\n  formData = JSON.parse(localStorage.getItem(FORM_STORAGE_KEY));\n  if (formData) {\n    setFormFields(formData);\n  } else {\n    formData = {};\n  }\n}\n\nfunction setFormFields(obj) {\n  for (const key in obj) {\n    refs.form[key].value = obj[key];\n  }\n}\n\nwindow.addEventListener('load', getStorageData);\n"],"names":["$b00c40859be242c5$var$formData","$dCfNN","parcelRequire","$b00c40859be242c5$var$refs","form","document","querySelector","$b00c40859be242c5$var$FORM_STORAGE_KEY","addEventListener","e","preventDefault","_elements","currentTarget","elements","email","message","value","alert","localStorage","removeItem","console","log","reset","obj","key","$b00c40859be242c5$var$clearFormData","$parcel$interopDefault","target","name","setItem","JSON","stringify","window","parse","getItem","$b00c40859be242c5$var$setFormFields"],"version":3,"file":"03-feedback.7072d114.js.map"}