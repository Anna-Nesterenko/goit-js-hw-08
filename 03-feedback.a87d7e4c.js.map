{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAO,CACXC,KAAMC,SAASC,cAAc,mBAGzBC,EAAmB,sBAEnBC,EAAW,IA4BjB,WACE,IAAMC,EAAkBC,aAAaC,QAAQJ,GAE7C,GAAIE,EAAiB,CACnB,IAAMG,EAAkBC,KAAKC,MAAML,GAEnC,IAAK,IAAMM,KAAOH,EAChBJ,EAASO,GAAOH,EAAgBG,GAGlCZ,EAAKC,KAAKY,SAASC,MAAMC,MAAQV,EAASS,MAAQT,EAAgB,MAAI,GAEtEL,EAAKC,KAAKY,SAASG,QAAQD,MAAQV,EAASW,QACxCX,EAAkB,QAClB,IAxCRY,GAEAjB,EAAKC,KAAKiB,iBAAiB,UAQ3B,SAAsBC,GACpBA,EAAEC,iBAEF,IAA2BC,EAAAF,EAAEG,cAAcT,SAAnCC,EAAmBO,EAAnBP,MAAOE,EAAYK,EAAZL,QAEf,GAAoB,KAAhBF,EAAMC,OAAkC,KAAlBC,EAAQD,MAChC,OAAOQ,MAAM,iCAGfC,QAAQC,IAAIpB,GAEZL,EAAKC,KAAKyB,QAEVnB,aAAaoB,WAAWvB,MApB1BJ,EAAKC,KAAKiB,iBAAiB,QAASU,EAAA9B,EAAA,EAEpC,SAAsBqB,GACpBd,EAASc,EAAEU,OAAOC,MAAQX,EAAEU,OAAOd,MACnCR,aAAawB,QAAQ3B,EAAkBM,KAAKsB,UAAU3B,MAJG","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n};\n\nconst FORM_STORAGE_KEY = 'feedback-form-state';\n\nconst formData = {};\n\npopulateFormInput();\n\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.form.addEventListener('input', throttle(addFormInput, 500));\n\nfunction addFormInput(e) {\n  formData[e.target.name] = e.target.value;\n  localStorage.setItem(FORM_STORAGE_KEY, JSON.stringify(formData));\n}\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n\n  const { email, message } = e.currentTarget.elements;\n\n  if (email.value === '' || message.value === '') {\n    return alert('Будь ласка заповнити усі поля');\n  }\n\n  console.log(formData);\n\n  refs.form.reset();\n\n  localStorage.removeItem(FORM_STORAGE_KEY);\n}\n\nfunction populateFormInput() {\n  const formStringValue = localStorage.getItem(FORM_STORAGE_KEY);\n\n  if (formStringValue) {\n    const formObjectValue = JSON.parse(formStringValue);\n\n    for (const key in formObjectValue) {\n      formData[key] = formObjectValue[key];\n    }\n\n    refs.form.elements.email.value = formData.email ? formData['email'] : '';\n\n    refs.form.elements.message.value = formData.message\n      ? formData['message']\n      : '';\n  }\n}\n"],"names":["$dCfNN","parcelRequire","$b00c40859be242c5$var$refs","form","document","querySelector","$b00c40859be242c5$var$FORM_STORAGE_KEY","$b00c40859be242c5$var$formData","formStringValue","localStorage","getItem","formObjectValue","JSON","parse","key","elements","email","value","message","$b00c40859be242c5$var$populateFormInput","addEventListener","e","preventDefault","_elements","currentTarget","alert","console","log","reset","removeItem","$parcel$interopDefault","target","name","setItem","stringify"],"version":3,"file":"03-feedback.a87d7e4c.js.map"}